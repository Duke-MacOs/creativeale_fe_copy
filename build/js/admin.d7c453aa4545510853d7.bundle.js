"use strict";(self.webpackChunk_byted_editor=self.webpackChunk_byted_editor||[]).push([[328],{38667:function(e,t,n){var r=n(30655),a=n.n(r),l=n(60811),o=n.n(l),c=n(65735),i=n(89313),s=n(52570),d=o()(a());d.i(c.Z),d.i(i.Z),d.i(s.Z),d.push([e.id,".byted-btn {\n  min-width: none !important;\n  border-radius: 8px !important;\n  padding: 0px;\n}\n.flex-row-left {\n  display: flex;\n  flex-direction: row;\n  justify-content: left;\n}\n.flex-row-right {\n  display: flex;\n  flex-direction: row;\n  justify-content: right;\n}\n.flex-row-space-between {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.flex-row-center {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n.flex-row-flex-end {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n}\n.flex-row-space-around {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n}\n.flex-column-center {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.flex-column-space-between {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.flex-column {\n  display: flex;\n  flex-direction: column;\n}\n.transition-300-ms {\n  transition: all 0.3s;\n  -webkit-transition: all 0.3s;\n  -moz-transition: all 0.3s;\n}\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translate3d(0, 40px, 0);\n  }\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n}\n#root {\n  display: flex;\n  --color-primary: #3955f6;\n}\n",""]),t.Z=d},65355:function(e,t,n){n.d(t,{G5:function(){return d},S_:function(){return m},aU:function(){return h},he:function(){return u},jI:function(){return s},r3:function(){return f},rr:function(){return p}});var r=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const i=e=>e.split("/").filter(Boolean).join("_");function s(e,t=!1){const n=t?h:f;return(t,r={})=>n("table_action",((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&c(e,n,t[n]);return e})({pathname:i(location.pathname),action_search:new URLSearchParams(location.search).toString(),action_result:t,action_name:e},r))}function d(e){f("table_switch_tab",{pathname:i(location.pathname),tab_name:e})}function u(e,t){f("sidebar_menu",{menu_path:`sidebar_${i(t)}`,menu_name:e})}function p(e){f("table_search_params",{pathname:i(location.pathname),params:new URLSearchParams(e).toString()})}function m(e){f("table_search_action",{pathname:i(location.pathname),params:new URLSearchParams(e).toString()})}function h(e,t){return window.collectEvent("beconEvent",e,t)}function f(e,t){return window.collectEvent(e,t)}},80481:function(e,t,n){n.d(t,{F:function(){return u}});var r=n(25054),a=n(60203),l=n(73760),o=n(22142),c=n(55305),i=(n(97029),Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),s=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;const u=(e,t,n)=>{const{startLoading:u,stopLoading:p}=(0,a.LL)(),[m,h]=(0,r.ZP)([]),f=(0,o.useRef)(),[y,b]=(0,o.useState)(0),{refetch:g}=(0,c.useQuery)({queryKey:e,queryFn:()=>{u();const e=(0,l.isObject)(n)?(0,l.pickBy)(n,(e=>Boolean(e))):n;return t(e)},onSuccess:e=>{var t=e,{list:n,pagination:r}=t,a=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&i)for(var r of i(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["list","pagination"]);h(n),b(null==r?void 0:r.total),f.current=a},onSettled:p});return{refetch:g,list:m,setList:h,restData:f.current,total:y,setTotal:b}}},30841:function(e,t,n){n(17436);var r=n(14540),a=n(61754),l=n(91372),o=n(5635),c=n(93379),i=n.n(c),s=n(7795),d=n.n(s),u=n(90569),p=n.n(u),m=n(3565),h=n.n(m),f=n(19216),y=n.n(f),b=n(44589),g=n.n(b),v=n(38667),E={};E.styleTagTransform=g(),E.setAttributes=h(),E.insert=p().bind(null,"head"),E.domAPI=d(),E.insertStyleElement=y(),i()(v.Z,E),v.Z&&v.Z.locals&&v.Z.locals;var w=n(24391),x=n(291),P=n(76151),k=n(22142),Z=n(4653),I=n(66769),S=n(51514),O=n(50509),j=n(45858),C=n.p+"90e93156809ea389c49d007ba9951452.svg",z=n(50750),A=n(62732),T=n(92187),L=n(7910),_=n(40985),R=n(78296),F=n(89320),B=n(80926),U=n(65355),N=n(98466),D=n(89050),M=n(2961),J=n(32078),V=n(62255),W=n(13883),q=n(22142),K=({initValues:e,onCancel:t,onFinish:n})=>{const[r,l]=(0,k.useState)(!1),[o]=M.Z.useForm();return q.createElement(J.Z,{open:!0,okText:"修改",title:"个人信息",onCancel:t,okButtonProps:{loading:r,disabled:r},onOk:()=>{return void 0,null,e=function*(){try{l(!0),yield n(yield o.validateFields()),a.ZP.success("修改成功"),t()}catch(e){a.ZP.error(e.message)}finally{l(!1)}},new Promise(((t,n)=>{var r=t=>{try{l(e.next(t))}catch(e){n(e)}},a=t=>{try{l(e.throw(t))}catch(e){n(e)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,a);l((e=e.apply(undefined,null)).next())}));var e}},q.createElement(M.Z,{form:o,labelCol:{span:5},wrapperCol:{span:18},initialValues:e},q.createElement(M.Z.Item,{label:"个人名称",name:"name",rules:[{required:!0,message:"请输入用户名称"}]},q.createElement(V.Z,{minLength:1,maxLength:20,placeholder:"请输入用户名称，不超过20字"})),q.createElement(M.Z.Item,{label:"个人头像",name:"avatar",rules:[{required:!0,message:"请上传个人头像"}]},q.createElement(W.a,null))))},H=n(92556),G=n(22142);function $(){const{userInfo:e,updateUserInfo:t,setUserInfo:n}=(0,S.Pc)();(0,D.Z)(t),(0,H.Z)();const[r,a]=(0,k.useState)(!1);return e?G.createElement(G.Fragment,null,G.createElement(R.Z,{placement:"bottom",overlay:G.createElement(O.Z,{inlineIndent:0},G.createElement(O.Z.Item,{key:"userinfo",style:{textAlign:"center"},onClick:()=>{(0,_.r3)("account_module",{event_name:"click_personal_info"}),a(!0)}},"个人信息"),G.createElement(O.Z.Divider,null),G.createElement(O.Z.Item,{key:"logout",style:{textAlign:"center"},onClick:()=>{(0,U.aU)("account_module",{event_name:"click_quit"}),window.location.href="/api/oauth2/logout"}},"退出登录"))},G.createElement("div",{style:{display:"flex",columnGap:8,justifyContent:"center",alignItems:"center"}},G.createElement(F.C,{size:"large",src:e.avatar}),G.createElement("div",{style:{textAlign:"center",fontSize:12}},G.createElement("span",{style:{display:"block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer",fontSize:14,marginBottom:6}},e.name),G.createElement(B.Z.Text,{type:"secondary",children:`ID: ${e.userId}`,style:{display:"block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}})))),r&&G.createElement(K,{initValues:{name:e.name,avatar:e.avatar,description:e.teams.find((({type:e})=>0===e)).description},onCancel:()=>{a(!1)},onFinish:e=>{return t=this,null,r=function*(){yield N.dJ.post("/team/user/update",e),n((()=>e))},new Promise(((e,n)=>{var a=e=>{try{o(r.next(e))}catch(e){n(e)}},l=e=>{try{o(r.throw(e))}catch(e){n(e)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,l);o((r=r.apply(t,null)).next())}));var t,r}})):null}var Q=n(22142),Y=()=>{const e=X(),t=ee(),n=(0,w.k6)(),{userInfo:r}=(0,S.Pc)(),a=(0,w.TH)(),{token:{colorBgContainer:l}}=o.Z.useToken();return Q.createElement("div",{style:{height:64}},Q.createElement(x.Z.Header,{style:{position:"fixed",zIndex:12,width:"100%",backgroundColor:l,boxShadow:"0px 2px 8px rgba(0,0,0,0.08)",lineHeight:"initial",padding:"0 16px",display:"flex",alignItems:"center",columnGap:16}},Q.createElement("img",{src:C}),Q.createElement("div",{style:{borderLeft:"1px solid var(--color-primary)",height:"25%"}}),Q.createElement("div",{style:{marginRight:"auto",color:"var(--color-primary)"}},"互动创意"),Q.createElement(O.Z,{mode:"horizontal",selectedKeys:[t],className:(0,A.iv)({flex:1,display:"flex",justifyContent:"flex-end",border:"none",".ant-menu-item::after, .ant-menu-submenu:after":{display:"none"}}),onClick:({key:e})=>{switch(e){case"/pub/template":r&&Z.Z.map((e=>e(r))).find((e=>e.path[0]===a.pathname))||n.push("/pub/template");break;case"/":case"/help":n.push(e)}},items:[{label:Q.createElement(z.ZP,null),key:"/pub/template"},{label:"帮助",key:"/help"},{label:"更多",key:"more",children:[{key:"/wenjuan",label:"问卷反馈",onClick(){window.open("https://wenjuan.feishu.cn/m/cfm?t=szitQAE50gGi-xc86")}},e]}]}),Q.createElement($,null)))};const X=()=>{const[e,t]=(0,T.Em)("changelog",{nextValue:"0.9.0",byStep:!1});return{key:"/log",label:Q.createElement(j.Z,{dot:e},"更新日志"),onClick(){t(!1),(0,L.cM)({online:!0})?window.open("https://bytedance.feishu.cn/docs/doccn8nDt4jSAE83zoibe09TYwc"):window.open("https://bytedance.feishu.cn/wiki/wikcn8s1H2JBm9PdWDFA0So1D8d"),(0,_.r3)(_.GM.OperationButton,{type:"更新日志"})}}},ee=()=>{const{pathname:e}=(0,w.TH)();return"/"===e?"/":e.startsWith("/help")?"/help":"/pub/template"};var te=n(62441),ne=n(70072),re=()=>{const e=(0,k.useCallback)((()=>{location.href="/"}),[]);return k.createElement(te.ZP,{status:"404",title:"404",subTitle:"页面不存在",extra:k.createElement(ne.Z,{type:"primary",onClick:e},"回首页")})},ae=n(22142);const{Sider:le}=x.Z;var oe=({location:{pathname:e},history:{replace:t}})=>{const n=(0,Z.V)().routes.filter((({path:e})=>!e[0].includes(":"))),r=n.find((({path:t})=>e.startsWith(t[0]))),[a,l]=(0,k.useState)();return(0,k.useEffect)((()=>{(null==r?void 0:r.label)&&(document.title=r.label)}),[r]),n.length?ae.createElement("div",{style:{flex:"0 0 165px"}},ae.createElement(le,{theme:"light",width:164,ref:e=>l(null==e?void 0:e.offsetTop),style:{height:`calc(100vh - ${a}px)`,position:"fixed",left:0,zIndex:11,overflow:"auto"}},ae.createElement(O.Z,{style:{paddingBottom:30},selectedKeys:[null==r?void 0:r.path[0]].filter(Boolean),mode:"inline",onClick:({key:e})=>{if(!["/pub/","/my/","/admin/","super"].includes(e)){const r=n.find((({path:t})=>e===t[0]));(null==r?void 0:r.pathOf)?((0,U.he)(r.label,e),t(r.pathOf())):t(e)}},items:[{label:"精选",prefix:"/pub/"},{label:"我的",prefix:"/my/"},{label:"管理",prefix:"/admin/"},{label:"超管",prefix:"/super/"}].map((({label:e,prefix:t},r)=>{const a=n.filter((({path:e})=>e[0].startsWith(t)));return a.length?[0!==r&&{type:"divider"},{label:e,key:t,style:{cursor:"default",color:"#969696"}},...a.map((({label:e,path:t})=>({label:e,key:t[0],style:{paddingLeft:"36px"}})))].filter(Boolean):[]})).flat()}))):null};function ce(e){return{"/help/":"https://bytedance.feishu.cn/docs/doccn2zE554ALqlIG3JCHaEAlpe","/help/primary/one":"https://bytedance.feishu.cn/docs/doccnDr1DlPm1s61j8Tdz1RgCLd","/help/primary/two":"https://bytedance.feishu.cn/docs/doccn7IUFhmpTLW5t6cslJiCsld","/help/primary/three":"https://bytedance.feishu.cn/docs/doccnAe6rEOwy3XQ2AgNi1euRoc","/help/primary/four":"https://bytedance.feishu.cn/docs/doccnZ6uLtrHzoi6DOyMhQLazlb","/help/primary/five":"https://bytedance.feishu.cn/docs/doccnuTBp58LptMBBbJylG080Sb","/help/primary/six":"https://bytedance.feishu.cn/docs/doccnSs1ffmZeQBjwBI6TyLpgTd","/help/primary/seven":"https://bytedance.feishu.cn/docs/doccniBg8YKAz3BTbYvePNsGrcW","/help/primary/eight":"https://bytedance.feishu.cn/docs/doccnsMuNI3kj3HfU8vq8zqv3Zf","/help/primary/nine":"https://bytedance.feishu.cn/docs/doccnG8jFEb2RaQA5VFzF8Ps2Hd","/help/primary/ten":"https://bytedance.feishu.cn/docs/doccnCqUBkfgYyxC0DXsFbsdXeg","/help/middle/one":"https://bytedance.feishu.cn/docs/doccnd9eNoMCUS3uyIpYpz14V4r","/help/middle/two":"https://bytedance.feishu.cn/docs/doccnwlFEcnN8Bnb5BSCrHoHRkh","/help/middle/three":"https://bytedance.feishu.cn/docs/doccnRdohYUdqtKB2BNTM7WuguJ","/help/middle/four":"https://bytedance.feishu.cn/docs/doccnkF3aLLgFHkE6drhgtLeSTg","/help/middle/five":"https://bytedance.feishu.cn/docs/doccnzSaFxqSQE6ajVY8AQGVosc","/help/middle/six":"https://bytedance.feishu.cn/docs/doccnkaWUz1TWs3ZUp8NJKo0ksf","/help/middle/seven":"https://bytedance.feishu.cn/docs/doccnDr1DlPm1s61j8Tdz1RgCLd","/help/senior/one":"https://bytedance.feishu.cn/docs/doccnmmA91I4BLmcEzzP3HCmYHb","/help/senior/two":"https://bytedance.feishu.cn/docs/doccnRW5z0mrbXktoMy2Kpth8Mh","/help/senior/three":"https://bytedance.feishu.cn/docs/doccnlUtebnVeoZhlQx3qQAYyPb","/help/senior/four":"https://bytedance.feishu.cn/docs/doccnnUJIakYed78QxWPI0j2l3L","/help/case/one":"https://bytedance.feishu.cn/docs/doccnVkuA0c4rPokqF8Q7dJhJsX","/help/case/two":"https://bytedance.feishu.cn/docs/doccnbcstXOLl9EcUobr5SpUSpf","/help/case/three":"https://bytedance.feishu.cn/docs/doccnK2XWfwCNxqrW9ECXOgC9Gb","/help/case/four":"https://bytedance.feishu.cn/docs/doccnlOsA7g5xrjTSaHhnuEhUFe","/help/case/five":"https://bytedance.feishu.cn/docs/doccnJg23pgJIrZNFLrBGqz1ZUc","/help/case/seven":"https://bytedance.feishu.cn/docs/doccnYOvR9EplOwmB9TP0wuosLe","/help/case/eight":"https://bytedance.feishu.cn/docs/doccn523xGpCZ6IszhNlfnf8BVg","/help/case/six":"https://bytedance.feishu.cn/docs/doccnFUmUBy5y02okqted0BEm4D","/help/docs/import-ae":"https://bytedance.feishu.cn/docs/doccnFBBhLyD6bPa4CejqrzuV2C#g1zrPE","/help/docs/import-psd":"https://bytedance.feishu.cn/docs/doccnU0S2OBcQKIMwHCulBkxWbh","/help/docs/import-figma":"https://bytedance.feishu.cn/docs/doccnFRhjF5iXbtCm95Dh1YULUf","/help/docs/resource-upload":"https://bytedance.feishu.cn/docs/doccnxn0Z0wqEMDtzVJnPwa1b9c","/help/docs/code-mode":"https://bytedance.feishu.cn/docs/doccnlALwFJS7LKtxOsX1VDSTNd","/help/docs/time-line-tips":"https://bytedance.feishu.cn/docs/doccnryB5nFeEMfoVS3c0rfXxSe","/help/docs/question-answer":"https://bytedance.feishu.cn/docs/doccn2BBmRuOd87q3GlHSmmrmgj"}[e]||"https://bytedance.feishu.cn/docs/doccn2zE554ALqlIG3JCHaEAlpe"}function ie(e,t,n,r,a){return{key:t,icon:n,children:r,label:e,type:a}}const se=[ie("基础教程","sub1",void 0,[ie("整体介绍","/primary/one"),ie("时间轴介绍","/primary/two"),ie("场景及全局配置介绍","/primary/three"),ie("画布操作说明","/primary/four"),ie("属性面板配置","/primary/five"),ie("蒙版及混合模式","/primary/six"),ie("特效使用","/primary/seven"),ie("动画介绍","/primary/eight"),ie("加载完成率优化","/primary/nine"),ie("自定义适配","/primary/ten")]),ie("中级教程","sub2",void 0,[ie("事件机制","/middle/one"),ie("互动方式","/middle/two"),ie("常用事件","/middle/three"),ie("赋值及逻辑判断","/middle/four"),ie("克隆事件","/middle/five"),ie("互动组件","/middle/six"),ie("直出互动教程","/middle/seven")]),ie("高级教程","sub3",void 0,[ie("基本物理系统","/senior/one"),ie("高级物理系统","/senior/two"),ie("自定义脚本的基本使用","/senior/three"),ie("自定义脚本的属性配置","/senior/four")]),ie("案例教程","sub4",void 0,[ie("打地鼠","/case/five"),ie("砸金蛋","/case/four"),ie("大转盘","/case/three"),ie("红包雨","/case/two"),ie("接元宝","/case/seven"),ie("flappy bird","/case/eight"),ie("套圈(高级)","/case/one"),ie("飞机大战(高级)","/case/six")]),ie("帮助文档","sub5",void 0,[ie("AE导入","/docs/import-ae"),ie("PSD导入","/docs/import-psd"),ie("Figma导入","/docs/import-figma"),ie("资源上传说明","/docs/resource-upload"),ie("编码模式","/docs/code-mode"),ie("时间轴操作小技巧、快捷键","/docs/time-line-tips"),ie("常见问题","/docs/question-answer")])];var de=n(22142);const{Sider:ue,Content:pe}=x.Z;function me(){const e=(0,w.k6)(),t=(0,w.TH)(),[n,r]=(0,k.useState)(!1),{mount:a,replace:l}=function(){const e=(0,k.useRef)(null);return{mount:function(t){e.current=window.webComponent.render("DocsComponent",{src:t,minHeight:"500px",width:"100%"},document.querySelector("#feishu__root")),e.current.config.setFeatureConfig({HEADER:{enable:!1}})},replace:function(t){e.current.replace(t)}}}();return(0,k.useEffect)((()=>{fetch("https://magicplay.oceanengine.com/static-cloud/invoke/feishuAuth",{method:"POST",body:JSON.stringify({url:String(window.location.href)})}).then((e=>e.json())).then((({appId:e,signature:n,timestamp:l,nonceStr:o,url:c})=>{window.webComponent.config({appId:e,signature:n,timestamp:l,nonceStr:o,url:c,jsApiList:["DocsComponent"],lang:"zh-中文"}).then((()=>{a(ce(t.pathname)),r(!0)}))}))}),[]),(0,k.useEffect)((()=>{n&&l(ce(t.pathname))}),[t.pathname]),de.createElement(x.Z,null,de.createElement(ue,{theme:"light"},de.createElement(O.Z,{mode:"inline",items:se,className:(0,A.iv)({height:"100%"}),onClick:({key:t})=>{t.startsWith("sub")||e.push(`/help${t}`)}})),de.createElement(pe,{id:"feishu__root"}))}var he=n(22142);function fe(){const{token:e}=o.Z.useToken();return he.createElement(l.ZP,{theme:{components:{Layout:{colorBgBody:e.colorBgContainer}}}},he.createElement(x.Z,{style:{minHeight:"100%"},className:(0,A.cx)("w-full",(0,A.iv)({color:e.colorTextBase}))},he.createElement(Y,null),he.createElement(I.Z,null),he.createElement(w.rs,null,he.createElement(w.AW,{path:"/help",component:me}),he.createElement(ye,null))))}function ye(){const{loading:e,updateUserInfo:t}=(0,S.Pc)(),{routes:n}=(0,Z.V)();return(0,k.useEffect)((()=>{t().catch((e=>{a.ZP.error(e.message||"无法获取个人信息，请稍后再试")}))}),[]),e?he.createElement(P.Z,{spinning:!0,tip:"正在初始化工作区",style:{width:"100vw",marginTop:"50vh"}}):he.createElement(x.Z,null,he.createElement(w.rs,null,he.createElement(w.AW,{component:oe})),he.createElement(k.Suspense,{fallback:null},he.createElement(w.rs,null,n.map((e=>he.createElement(w.AW,{key:e.path[0],path:e.path,exact:!0,component:e}))),n.length?he.createElement(w.l_,{from:"/",to:n[0].path[0]}):he.createElement(w.AW,{component:re}))))}var be=n(55506),ge=(n(95611),n(9655)),ve=n(55305),Ee=n(29352),we=n(28324),xe=n(22142);const Pe=(0,we.ZP)((()=>({url:"",typeOfPlay:0})));var ke=()=>{const{url:e,typeOfPlay:t}=Pe();return e?xe.createElement(Ee.M,{httpUrl:e,typeOfPlay:t,originSize:[667,375],onClose:()=>Pe.setState({url:"",typeOfPlay:0})}):null},Ze=n(22142),Ie=()=>Ze.createElement(ke,null),Se=(n(68198),n(22142));const Oe=new ve.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1,onError:e=>{var t;a.ZP.error(null!=(t=e.message)?t:"请求出错，请稍后重试")}}}});window.VERSION=void 0,console.log(window.VERSION),r.render(Se.createElement(ge.VK,null,Se.createElement(l.ZP,{locale:be.Z,theme:{token:{colorPrimary:"#3955f6",colorInfo:"#3955f6"},algorithm:location.search.includes("dark")?o.Z.darkAlgorithm:o.Z.defaultAlgorithm}},Se.createElement(ve.QueryClientProvider,{client:Oe},Se.createElement(fe,null),Se.createElement(Ie,null)))),document.getElementById("root"))},9170:function(e,t,n){var r,a;n.d(t,{kJ:function(){return r},AI:function(){return g}}),(a=r||(r={}))[a.Editing=10]="Editing",a[a.Approving=20]="Approving",a[a.Approved=30]="Approved",a[a.Rejected=40]="Rejected",a[a.Removed=50]="Removed",a[a.Archive=110]="Archive",a[a.Product=120]="Product",a[a.ExampleApproving=220]="ExampleApproving",a[a.ExampleApproved=230]="ExampleApproved",a[a.ExampleRejected=240]="ExampleRejected",a[a.ExampleRemoved=250]="ExampleRemoved";var l=n(89578),o=n(98466),c=Object.defineProperty,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&u(e,n,t[n]);if(i)for(var n of i(t))d.call(t,n)&&u(e,n,t[n]);return e},m=(e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&i)for(var r of i(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n},h=(e,t,n)=>new Promise(((r,a)=>{var l=e=>{try{c(n.next(e))}catch(e){a(e)}},o=e=>{try{c(n.throw(e))}catch(e){a(e)}},c=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,o);c((n=n.apply(e,t)).next())}));const{MenuMy:f,MenuAdmin:y,MenuSuper:b}=l.Gp,g=e=>h(void 0,null,(function*(){var t=e,{tab:n,match:r}=t,a=m(t,["tab","match"]);return v(p(p({},a),E(n,r)))})),v=e=>h(void 0,null,(function*(){const{data:t}=yield o.dJ.get("project/list",{params:e}),{data:n}=t,r=n,{list:a,isVersion:l}=r;return{list:a,pagination:m(r,["list","isVersion"]),isVersion:l}})),E=(e,t)=>{switch(e){case"draft":return{status:r.Editing};case"deleted":for(const[e,n]of[f,y,b].entries())if(t&n)return{deleted:e+1};return{};case"archive":return{status:r.Archive};case"product":return{status:r.Product};case"borrowed":return{borrowed:1};default:return Number(e)in r?{status:e}:{}}}},89578:function(e,t,n){n.d(t,{C2:function(){return o},Gp:function(){return a},SK:function(){return l}});let r=0;const a={TypeProject:1<<r++,TypeTemplate:1<<r++,TypeExample:1<<r++,MenuMy:1<<r++,MenuAdmin:1<<r++,MenuSuper:1<<r++,MenuPub:1<<r++,RoleMember:1<<r++,RoleManager:1<<r++,RoleSuperMember:1<<r++,RoleSuperManager:1<<r++,TeamUser:1<<r++,TeamMany:1<<r++,TeamSuper:1<<r++},l=({teamRoles:e,teamId:t,teams:n})=>{let r=0;1&e&&(r+=a.RoleMember),2&e&&(r+=a.RoleManager),256&e&&(r+=a.RoleSuperMember),512&e&&(r+=a.RoleSuperManager);const{type:l}=n.find((({id:e})=>e===t));switch(l){case 0:r+=a.TeamUser;break;case 1:r+=a.TeamSuper;break;default:r+=a.TeamMany}return r},o=(...e)=>t=>e.every((e=>("number"==typeof e?e:e(a))&t))},59701:function(e,t,n){n.d(t,{yv:function(){return M},C9:function(){return P},ZP:function(){return D}});var r=n(80481),a=n(97029),l=n(60203),o=n(70528),c=n(89320),i=n(80926),s=n(26840),d=n(80863),u=n(14908),p=n(54520),m=n(77397),h=n(65355),f=n(51514),y=n(2961),b=n(32078),g=n(61754),v=n(34394),E=n(22142),w=n(22142);const x=(0,h.jI)("编辑团队实验功能");var P,k,Z=({features:e,onCancel:t,onFinish:n})=>{const[r,a]=(0,E.useState)(!1),[l]=y.Z.useForm();return w.createElement(b.Z,{title:"编辑团队实验功能",open:!0,centered:!0,okButtonProps:{loading:r,disabled:r},onCancel:()=>{x("cancel"),t()},onOk:()=>{return void 0,null,e=function*(){try{a(!0);const{features:e}=yield l.validateFields();yield n(e.includes("<all>")?"<all>":e.join("")),g.ZP.success("修改成功"),x("okay"),t()}catch(e){x("error"),g.ZP.error(e.message)}finally{a(!1)}},new Promise(((t,n)=>{var r=t=>{try{l(e.next(t))}catch(e){n(e)}},a=t=>{try{l(e.throw(t))}catch(e){n(e)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,a);l((e=e.apply(undefined,null)).next())}));var e}},w.createElement(y.Z,{form:l,preserve:!1,name:"editFeatures",initialValues:{features:Object.keys(f.rp).filter((t=>e.includes(t)))}},w.createElement(y.Z.Item,{name:"features"},w.createElement(v.Z.Group,null,Object.keys(f.rp).map((e=>w.createElement(v.Z,{key:e,value:e},f.rp[e])))))))},I=n(5023),S=n(98466),O=n(62732),j=n(22142),C=Object.defineProperty,z=Object.defineProperties,A=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,R=(e,t,n)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||(t={}))L.call(t,n)&&R(e,n,t[n]);if(T)for(var n of T(t))_.call(t,n)&&R(e,n,t[n]);return e},B=(e,t)=>z(e,A(t)),U=(e,t,n)=>new Promise(((r,a)=>{var l=e=>{try{c(n.next(e))}catch(e){a(e)}},o=e=>{try{c(n.throw(e))}catch(e){a(e)}},c=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,o);c((n=n.apply(e,t)).next())}));(k=P||(P={}))[k["个人版"]=0]="个人版",k[k["管理员"]=1]="管理员",k[k["服务商"]=2]="服务商",k[k["广告主"]=3]="广告主",k[k["代理商"]=4]="代理商";const N=e=>U(void 0,null,(function*(){const{data:t}=yield S.dJ.get("team/list",{params:e}),{data:n}=t,r=n,{list:a}=r;return{list:a,pagination:((e,t)=>{var n={};for(var r in e)L.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&T)for(var r of T(e))t.indexOf(r)<0&&_.call(e,r)&&(n[r]=e[r]);return n})(r,["list"])}}));var D=(0,l.VT)((function({loading:e}){const{setUserInfo:t}=(0,f.Pc)(),[n,l]=(0,E.useState)(null),{params:h,onParamsChange:y}=(0,a.N6)(),{list:b,total:g,refetch:v}=(0,r.F)([N,h],N,h),w=[{title:"团队图标",dataIndex:"logo",key:"logo",width:"10%",align:"center",render:e=>j.createElement(c.C,{size:"large",src:e})},{title:"名称及ID",dataIndex:"name",key:"name",width:"10%",ellipsis:!0,render:(e,{id:t,name:n})=>j.createElement(i.Z.Link,{onClick:()=>{y({teamId:String(t)})}},j.createElement(s.Z,{title:`ID: ${t}`},n))},{title:"类型",dataIndex:"type",key:"type",width:"10%",align:"center",ellipsis:!0,render:e=>j.createElement(i.Z.Link,{style:{cursor:"pointer"},onClick:()=>{y({type:String(e)})}},P[e])},{title:"创建者",dataIndex:"owner",width:"10%",key:"owner",render(e,{owner:t,ownerName:n}){return j.createElement(i.Z.Link,{style:{cursor:"pointer"},onClick:()=>{y({userId:t})}},n)}},{title:"实验功能",dataIndex:"features",key:"features",width:"20%",className:(0,O.iv)({lineHeight:"28px"}),render:e=>{const t=Object.entries(f.rp).filter((([t])=>e.includes(t)));return j.createElement(j.Fragment,null,t.map((([e,t])=>j.createElement(d.Z,{key:e,color:"processing",style:{cursor:"pointer"},onClick:()=>{y({feature:e})}},t))))}},{title:"操作",dataIndex:"features",key:"action",width:"20%",render:(e,n)=>j.createElement(u.Z,null,j.createElement(i.Z.Link,{onClick:()=>{t((({teams:e,teamId:t})=>t===n.id?{}:e.some((({id:e})=>e===n.id))?{teamId:n.id}:{teamId:n.id,teams:[B(F({},n),{fake:!0}),...e]}))}},"进入"),j.createElement(i.Z.Link,{onClick:()=>{l(j.createElement(Z,{onCancel:()=>l(null),features:n.features,onFinish:e=>U(this,null,(function*(){yield S.dJ.post("team/update",{teamId:n.id,features:e}),t((({teams:t})=>({teams:t.map((t=>t.id===n.id?B(F({},t),{features:e}):t))}))),v()}))}))}},"开白"),j.createElement(i.Z.Link,{onClick:()=>{l(j.createElement(I.Z,{onCancel:()=>l(null),title:"修改团队信息",initValues:n,onFinish:e=>U(this,null,(function*(){yield S.dJ.post("team/update",F({teamId:n.id},e)),t((({teams:t})=>({teams:t.map((t=>t.id===n.id?F(F({},t),e):t))}))),v()}))}))}},"修改"))},{title:"创建时间",dataIndex:"createdAt",key:"createdAt",width:"15%",ellipsis:!0,render:e=>j.createElement("div",{style:{padding:"6px",background:"none",userSelect:"text"}},e)}];return j.createElement(m.TZ,{value:h.type,options:[{name:"全部",value:""},...M],onChange:e=>{y({type:e,page:1})}},j.createElement(p.Z,{rowKey:"userId",columns:w,dataSource:b,pagination:(0,o.h)(g),loading:e}),n)}));const M=[{name:"个人版",value:"0"},{name:"管理员",value:"1"},{name:"服务商",value:"2"},{name:"广告主",value:"3"},{name:"代理商",value:"4"}]},5023:function(e,t,n){var r=n(2961),a=n(32078),l=n(61754),o=n(62255),c=n(68961),i=n(13883),s=n(22142),d=n(65355),u=n(22142);t.Z=({title:e,initValues:t,onCancel:n,onFinish:p})=>{var m;const[h]=r.Z.useForm(),[f,y]=(0,s.useState)(!1),b=(0,d.jI)(e);return u.createElement(a.Z,{open:!0,title:e,onCancel:()=>{b("cancel"),n()},onOk:()=>{return void 0,null,t=function*(){try{y(!0),yield p(yield h.validateFields()),l.ZP.success(`${e}成功`),b("okay"),n()}catch(e){b("error"),l.ZP.error(e.message)}finally{y(!1)}},new Promise(((e,n)=>{var r=e=>{try{l(t.next(e))}catch(e){n(e)}},a=e=>{try{l(t.throw(e))}catch(e){n(e)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,a);l((t=t.apply(undefined,null)).next())}));var t},okButtonProps:{loading:f,disabled:f}},u.createElement(r.Z,{form:h,labelCol:{span:5},wrapperCol:{span:18},initialValues:t},u.createElement(r.Z.Item,{label:"团队图标",name:"logo",rules:[{required:!0,message:"请上传团队图标"}]},u.createElement(i.a,null)),u.createElement(r.Z.Item,{label:"主体名称",name:"subject",rules:[{required:!0,message:"请输入主体名称，如公司名称等"}]},u.createElement(o.Z,{maxLength:50,placeholder:"请输入主体名称，如公司名称等，不超过50字"})),(null!=(m=null==t?void 0:t.type)?m:2)>=2&&u.createElement(r.Z.Item,{label:"团队类型",name:"type",rules:[{required:!0,message:"请选择团队类型"}]},u.createElement(c.Z,{placeholder:"请选择团队类型",options:[{label:"服务商",value:2},{label:"广告主",value:3},{label:"代理商",value:4}]})),u.createElement(r.Z.Item,{label:"团队名称",name:"name",rules:[{required:!0,message:"请输入团队名称"}]},u.createElement(o.Z,{maxLength:20,placeholder:"请输入团队名称，不超过20字"})),u.createElement(r.Z.Item,{name:"description",label:"团队介绍"},u.createElement(o.Z.TextArea,{maxLength:250,placeholder:"请输入团队介绍，不超过250字"}))))}},77397:function(e,t,n){n.d(t,{F2:function(){return m},TZ:function(){return s}});var r=n(65355),a=n(7910),l=n(62732),o=n(88902),c=n(22142);const{TabPane:i}=o.Z;function s({value:e,onChange:t,options:n=[],children:s,extra:u}){return c.createElement("div",{className:(0,l.iv)({flex:"auto",display:"flex",flexDirection:"column",minWidth:"1208px",minHeight:"100%",borderRadius:"4px",margin:"0 16px",".ant-tabs-nav":{margin:0}})},n.length>0&&c.createElement(o.Z,{size:"large",activeKey:d(e,n).value,onChange:e=>{const{name:l}=d(e,n);(0,r.G5)((0,a.Qu)(l)),null==t||t(e)},tabBarExtraContent:u,style:{color:"#b7b4c3"}},n.map((e=>c.createElement(i,{tab:e.name,key:e.value})))),!n.length&&u&&c.createElement("div",{style:{display:"flex",alignItems:"center",padding:"12px 0"}},u),s)}const d=(e,t)=>{var n;return null!=(n=t.find((({value:t})=>t===e)))?n:t[0]};var u=n.p+"2af2825672ff3d7a820110c7ec07282e.svg",p=n(22142);const m=({message:e})=>p.createElement("div",{className:(0,l.iv)({textAlign:"center",height:"428px",padding:"32px",width:"100%"})},p.createElement("img",{src:u}),p.createElement("p",{style:{color:"#999"}},e))},4653:function(e,t,n){n.d(t,{Z:function(){return A},V:function(){return T}});var r=n(22142),a=n(97029);const l=[e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(526),n.e(667)]).then(n.bind(n,30)))),"投放数据","/admin/dashboard",{}),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(526),n.e(667),n.e(396)]).then(n.bind(n,50396)))),"投放数据","/super/dashboard",{}),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(808),n.e(254)]).then(n.bind(n,86254)))),"数据看板","/super/monitor",{})],o=[({teamId:e})=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(498),n.e(380),n.e(987),n.e(242),n.e(858),n.e(359)]).then(n.bind(n,96359)))),"资源管理","/admin/resource",{page:1,pageSize:20,keyword:"",teamId:e,types:"",categoryId:"1"}),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(498),n.e(918),n.e(242),n.e(858),n.e(326)]).then(n.bind(n,99326)))),"资源管理","/super/resource",{})];var c=n(51514);const i=[({teamId:e})=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(777),n.e(319)]).then(n.bind(n,49319)))),"成员管理","/admin/member",{page:1,pageSize:20,keyword:"",deleted:"0",userId:"",roles:"",teamId:e})];var s=n(89578),d=n(9170),u=Object.defineProperty,p=Object.defineProperties,m=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,b=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))f.call(t,n)&&b(e,n,t[n]);if(h)for(var n of h(t))y.call(t,n)&&b(e,n,t[n]);return e},v=(e,t)=>p(e,m(t));const{MenuMy:E,MenuAdmin:w,MenuSuper:x,MenuPub:P,TypeProject:k,TypeTemplate:Z,TypeExample:I}=s.Gp,S={id:"",tab:"",page:1,pageSize:20,keyword:"",startDate:"",category:"",endDate:"",industry:"",parentId:"",templateId:"",typeOfPlay:"",match:0,teamId:"",userId:""},O=({teamId:e,userId:t,teams:n})=>{var r;return 0===(null==(r=n.find((({id:t})=>t===e)))?void 0:r.type)?{userId:t}:{teamId:e}},j=[e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(777),n.e(929),n.e(530)]).then(n.bind(n,25530)))),"使用模板","/pub/template",v(g({},S),{tab:String(d.kJ.Approved),pageSize:18,typeOfPlay:"0"})),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(777),n.e(929),n.e(232)]).then(n.bind(n,69232)))),"我的项目","/my/project",v(g({},S),{match:E+k+(0,s.SK)(e),teamId:e.teamId,userId:e.userId,tab:"draft"})),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(777),n.e(929),n.e(232)]).then(n.bind(n,69232)))),"项目管理","/admin/project",g(v(g({},S),{match:w+k+(0,s.SK)(e)}),O(e))),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(777),n.e(929),n.e(232)]).then(n.bind(n,69232)))),"项目管理","/super/project",v(g({},S),{match:x+k+(0,s.SK)(e)})),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(777),n.e(929),n.e(232)]).then(n.bind(n,69232)))),"我的模板","/my/template",v(g({},S),{tab:String(d.kJ.Approving),match:E+Z+(0,s.SK)(e),teamId:e.teamId,userId:e.userId})),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(777),n.e(929),n.e(232)]).then(n.bind(n,69232)))),"模板管理","/admin/template",g(v(g({},S),{tab:String(d.kJ.Approving),match:w+Z+(0,s.SK)(e)}),O(e))),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(777),n.e(929),n.e(232)]).then(n.bind(n,69232)))),"模板管理","/super/template",v(g({},S),{tab:String(d.kJ.Approving),match:x+Z+(0,s.SK)(e)})),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(777),n.e(929),n.e(232)]).then(n.bind(n,69232)))),"我的案例","/my/example",v(g({},S),{tab:String(d.kJ.ExampleApproving),match:E+I+(0,s.SK)(e),teamId:e.teamId,userId:e.userId})),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(777),n.e(929),n.e(232)]).then(n.bind(n,69232)))),"案例管理","/admin/example",g(v(g({},S),{tab:String(d.kJ.ExampleApproving),match:w+I+(0,s.SK)(e)}),O(e))),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(777),n.e(929),n.e(232)]).then(n.bind(n,69232)))),"案例管理","/super/example",v(g({},S),{tab:String(d.kJ.ExampleApproving),match:x+I+(0,s.SK)(e)})),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(777),n.e(929),n.e(232)]).then(n.bind(n,69232)))),"参考案例","/pub/example",v(g({},S),{tab:String(d.kJ.ExampleApproved),match:P+I+(0,s.SK)(e)}))],C=[e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(777),n.e(156)]).then(n.bind(n,49156)))),"团队管理","/admin/team",{page:1,pageSize:20,keyword:"",feature:"",userId:"",teamId:"",type:""}),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(360)]).then(n.bind(n,1360)))),"团队管理","/super/team",{page:1,pageSize:20,keyword:"",feature:"",userId:"",teamId:"",type:""})];var z=n(28324);const A=[...j,...o,e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(895)]).then(n.bind(n,94895)))),"我的素材","/my/playable",{page:1,pageSize:20,projectId:"",projectUserId:"",userId:"",teamId:"",exportType:"",status:"packing",pageType:"my",startDate:"",endDate:""}),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(895)]).then(n.bind(n,94895)))),"素材管理","/admin/playable",{page:1,pageSize:20,projectId:"",projectUserId:"",userId:"",teamId:"",exportType:"",status:"packing",pageType:"admin",startDate:"",endDate:""}),e=>(0,a.ZP)((0,r.lazy)((()=>Promise.all([n.e(987),n.e(895)]).then(n.bind(n,94895)))),"素材管理","/super/playable",{page:1,pageSize:20,projectId:"",projectUserId:"",userId:"",teamId:"",exportType:"",status:"packing",pageType:"super",startDate:"",endDate:""}),...C,...i,...l],T=(0,z.ZP)((e=>{let t={};return c.Pc.subscribe((()=>{const{userInfo:n}=c.Pc.getState();n&&(n=>{if(!["teamId","teams","teamRoles"].some((e=>n[e]!==t[e])))return;t=n,console.log("userInfo:",n);const{type:r,advId:a,fake:l}=n.teams.find((({id:e})=>e===n.teamId));e({routes:A.map((e=>e(n))).filter((({path:[e]})=>(!l||!e.startsWith("/my"))&&(e.startsWith("/admin/member")?0!==r:e.startsWith("/admin/team")?0===r:e.startsWith("/super/")?n.teams.some((({type:e})=>1===e)):"/admin/dashboard"===e?a&&Number(a)>0&&(0,c.ib)(n,"<dashboard>"):!e.endsWith("/example")||(0,c.ib)(n,"<publish_example>"))))})})(n)})),{routes:[]}}))},97029:function(e,t,n){n.d(t,{N6:function(){return y},S4:function(){return f},ZP:function(){return b}});var r=n(81958),a=n(65355),l=n(73760),o=n(22142),c=n(24391),i=n(22142),s=Object.defineProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&m(e,n,t[n]);if(d)for(var n of d(t))p.call(t,n)&&m(e,n,t[n]);return e};const f=(0,o.createContext)({}),y=()=>(0,o.useContext)(f);function b(e,t,n,o){const[s,d]=g(n,o),[u,p]=v(n,o,d),m=()=>{const{run:t}=(0,r.Z)(((e,t)=>{e.history.push(u(t))}),200);return i.createElement(c.AW,{render:n=>{const r=p(n);return i.createElement(f.Provider,{value:{defaultParams:o,params:r.match.params,onParamsChange:(e,{resetPage:n}={resetPage:!0})=>{const c=(0,l.isFunction)(e)?e(r.match.params,o):e||o;n&&Object.assign(c,{page:1}),t(r,c);const i=Object.entries(c).filter((([e,t])=>t!==o[e]));i.length&&(0,a.rr)(Object.fromEntries(i))}},children:i.createElement(e,h({},r))})}})};return m.displayName=`withPath(${e.displayName||e.name||n})`,m.path=s.slice().reverse(),m.pathOf=u,m.label=t,m}const g=(e,t)=>{const n=e.split("/").reverse(),r=[];for(const[e,t]of n.entries())if(r.push(n.slice(e).reverse().join("/")||"/"),!t.startsWith(":"))break;const a=[];for(const r of n)if(r.startsWith(":")){if(!t.hasOwnProperty(r.slice(1)))throw new Error(`The "${r}" in "${e}" is missing default value from ${JSON.stringify(t)}.`);a.push(r.slice(1))}return[r,a]},v=(e,t,n)=>{let r=t;const a=a=>{r=h(h({},r),a);let l=e;for(const e of n)l=l.endsWith(`:${String(e)}`)&&r[e]===t[e]?l.replace(`/:${String(e)}`,""):l.replace(`:${String(e)}`,encodeURI(String(r[e])));return`${l}${o(r)}`},o=e=>{const r=[];for(const[a,l]of Object.entries(e))n.includes(a)||null==l||l===t[a]||r.push(`${a}=${encodeURIComponent(l)}`);return r.length?`?${r.join("&")}`:""};return[a,e=>{const{match:{params:n},location:{search:o}}=e;return e.match.pathOf=a,r=e.match.params=(e=>(0,l.mapValues)(e,((e,n)=>{if("string"==typeof e)switch(typeof t[n]){case"number":return Number(e);case"boolean":return["true","1","yes","on"].includes(e.toLowerCase())}return e})))(h(h(h({},t),Object.fromEntries(new URLSearchParams(o))),n)),e}]}},60203:function(e,t,n){n.d(t,{LL:function(){return y},VT:function(){return f}});var r=n(22142),a=n(22142),l=Object.defineProperty,o=Object.defineProperties,c=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&u(e,n,t[n]);if(i)for(var n of i(t))d.call(t,n)&&u(e,n,t[n]);return e};const m={spinning:!1,tip:""},h=(0,r.createContext)(void 0),f=e=>t=>{const[n,l]=(0,r.useState)(m),i=(0,r.useRef)([]);return a.createElement(h.Provider,{value:(0,r.useCallback)((e=>l((t=>{const n=i.current;return e.spinning?(n.push(e),t.spinning?t:e):(n.splice(n.indexOf(e),1),n.length>0?n[n.length-1]:p({},m))}))),[])},a.createElement(e,p({},(s=p({},t),o(s,c({loading:n}))))));var s},y=(e="正在加载")=>{const t=(0,r.useRef)(p({},m)),n=(0,r.useContext)(h);return{startLoading:(r=e)=>null==n?void 0:n(Object.assign(t.current,{spinning:!0,tip:r})),stopLoading:()=>null==n?void 0:n(Object.assign(t.current,m))}}},70528:function(e,t,n){n.d(t,{h:function(){return a}});var r=n(97029);const a=e=>{const{onParamsChange:t,params:{pageSize:n,page:a}}=(0,r.N6)();return{pageSize:n,total:e,current:a,showQuickJumper:!0,onChange(e,n){t({page:e,pageSize:n},"unReset")},showTotal(e){return`共 ${e} 条数据`}}}},50750:function(e,t,n){n.d(t,{ZK:function(){return h}});var r=n(78296),a=n(50509),l=n(89320),o=n(32078),c=n(80863),i=n(59701),s=n(65355),d=n(22142),u=n(62732),p=n(1502),m=n(51514);t.ZP=()=>{const{userInfo:e,updateUserInfo:t}=(0,m.Pc)(),n=function(){const{userInfo:e,updateUserInfo:t}=(0,m.Pc)(),[n,r]=(0,d.useState)(null);if(!e)return null;const{teamId:l,teams:c}=e,i=c.find((({id:e})=>e===l)),p=(e,n=2)=>e.length>n+1?d.createElement(d.Fragment,null,p(e.slice(0,n)),d.createElement(a.Z.Item,{title:"更多团队",className:(0,u.iv)({textAlign:"center"}),onClick:()=>{(0,s.r3)("account_module",{event_name:"click_view_more"}),r(d.createElement(o.Z,{open:!0,footer:null,onCancel:()=>{r(null)}},d.createElement(a.Z,{style:{border:"none",boxShadow:"none"}},p(e,e.length))))}},"查看更多团队")):d.createElement(d.Fragment,null,e.map((({id:e,name:n,logo:r,type:l})=>d.createElement(a.Z.Item,{key:e,id:String(e),onClick:()=>{(0,s.r3)("account_module",{event_name:"switch_team"}),t(e)}},d.createElement(h,{logo:r,type:l,name:n})))));return{currentTeam:i,personal:(e,t)=>0===i.type?e:t,getItems:p,reactNode:n,setReactNode:r}}();if(!e||!n)return d.createElement("div",null,"工作台");const{teamId:c,teams:i}=e,{personal:f,getItems:y,reactNode:b}=n,g=i.find((({id:e})=>e===c)),v=i.filter((({id:e,type:t,fake:n})=>!n&&e!==c&&0!==t)),E=y(v),w=i.length>1?d.createElement(d.Fragment,null," ",d.createElement(p.Z,null)):null;return d.createElement("div",null,d.createElement(r.Z,{placement:"bottom",overlay:v.length>0?d.createElement(a.Z,null,E,f(null,d.createElement(d.Fragment,null,i.length>2&&d.createElement(a.Z.Divider,null),d.createElement(a.Z.Item,{key:"logout_team",style:{textAlign:"center"},onClick:()=>{(0,s.r3)("account_module",{event_name:"click_back_to_workspace"}),t(i.find((({type:e})=>0===e)).id)}},"返回工作台")))):f(d.createElement("div",null),d.createElement(a.Z,null,d.createElement(a.Z.Item,{key:"logout_team",style:{textAlign:"center"},onClick:()=>{(0,s.r3)("account_module",{event_name:"click_back_to_workspace"}),t(i.find((({type:e})=>0===e)).id)}},"返回工作台")))},f(d.createElement("div",null,"工作台",w),d.createElement("div",null,d.createElement(l.C,{size:"small",src:g.logo})," ",g.name,w))),b)};const h=({logo:e,type:t,name:n})=>d.createElement("div",{className:(0,u.iv)({display:"flex",alignItems:"center"})},d.createElement(l.C,{src:e,size:"small",className:(0,u.iv)({flexShrink:0})}),d.createElement(c.Z,{color:"geekblue",className:(0,u.iv)({margin:"0 8px"})},i.C9[t]),d.createElement("span",{className:(0,u.iv)({fontSize:14,maxWidth:160,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})},n))},92556:function(e,t,n){n.d(t,{G:function(){return i}});var r=n(98466),a=n(32078),l=n(61754),o=n(22142),c=n(24391);const i="apk";t.Z=()=>{const e=(0,c.k6)();(0,o.useEffect)((()=>{const t=new URLSearchParams(location.search).get(i),n=()=>{const e=new URL(window.location);e.searchParams.delete(i),window.history.replaceState({},"",e)};t&&a.Z.confirm({title:"是否接收项目？",okText:"确定",onCancel:n,onOk:()=>{return void 0,null,a=function*(){try{yield r.dJ.get("project/acceptProject",{params:{key:t}}),l.ZP.success("项目接收成功"),e.push("/my/project")}catch(e){l.ZP.error(e.message)}finally{n()}},new Promise(((e,t)=>{var n=e=>{try{l(a.next(e))}catch(e){t(e)}},r=e=>{try{l(a.throw(e))}catch(e){t(e)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,r);l((a=a.apply(undefined,null)).next())}));var a}})}),[])}},89050:function(e,t,n){n.d(t,{C:function(){return c}});var r=n(98466),a=n(32078),l=n(61754),o=n(22142);const c="imk";t.Z=e=>{(0,o.useEffect)((()=>{const t=new URLSearchParams(location.search).get(c),n=()=>{const e=new URL(window.location);e.searchParams.delete(c),history.replaceState({},"",e)};t&&a.Z.confirm({title:"是否加入新团队？",okText:"确定",onCancel:n,onOk:()=>{return void 0,null,a=function*(){try{const{data:{data:a}}=yield r.dJ.get("team/accept",{params:{key:t}});e(a),l.ZP.success("已加入团队")}catch(e){l.ZP.error(e.message)}finally{n()}},new Promise(((e,t)=>{var n=e=>{try{l(a.next(e))}catch(e){t(e)}},r=e=>{try{l(a.throw(e))}catch(e){t(e)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,r);l((a=a.apply(undefined,null)).next())}));var a}})}),[])}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[183,716,981,122,624,97,64],(function(){return t(75917),t(30841)})),e.O()}]);