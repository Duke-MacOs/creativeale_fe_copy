"use strict";(self.webpackChunk_byted_editor=self.webpackChunk_byted_editor||[]).push([[530],{25530:function(e,t,a){a.r(t),a.d(t,{default:function(){return K}});var n=a(291),r=a(76151),i=a(88902),l=a(69641),o=a(22142),c=a(14908),s=a(70072),p=a(61754),m=a(46927),d=a(80863),u=a(92546),g=a(99350),h=a(72909),y=a(92366),v=a(54624),x=a(65355),f=a(29352),w=a(7910),E=a(62732);const b={container:(0,E.iv)({minHeight:"100%",overflow:"auto",display:"flex",flexDirection:"column",background:"#f7f8fa",alignItems:"center"}),list:(0,E.iv)({flex:"auto",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"1080px",borderRadius:"4px",width:"95%",margin:"0 auto"}),select:(0,E.iv)({display:"flex",justifyContent:"flex-end",paddingBottom:"24px"}),space:(0,E.iv)({width:"400px"}),empty:(0,E.iv)({height:"100%",width:"100%",marginTop:"-700px"}),items:(0,E.iv)({flex:1,display:"flex",flexWrap:"wrap",alignContent:"flex-start",alignItems:"flex-start",width:"1440px",margin:"0 auto"}),item:(0,E.iv)({margin:"0 30px 40px 0",width:"215px","&:nth-of-type(6n)":{marginRight:0},"& .ant-card-body":{padding:"12px"}}),cover:(0,E.iv)({width:"100%",height:"100%",padding:"1px",position:"relative"}),bgImg:(0,E.iv)({width:"100%",height:"100%",objectFit:"cover",position:"absolute",top:"0",left:"0",opacity:" 0.4"}),coverImage:(0,E.iv)({width:"100%",height:"100%",objectFit:"cover",position:"absolute",top:"0",left:"0"}),mask:(0,E.iv)({position:"absolute",top:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"0.2s",opacity:0,borderRadius:"4px"}),title:(0,E.iv)({display:"flex",flexDirection:"column",alignItems:"left"}),name:(0,E.iv)({fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),countAndIsFree:(0,E.iv)({marginTop:"10px",display:"flex",flexDirection:"row",color:"gray",justifyContent:"space-between"}),count:(0,E.iv)({fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),countIcon:(0,E.iv)({marginRight:"5px"}),isFree:(0,E.iv)({}),idTag:(0,E.iv)({width:"20px",height:"20px",borderRadius:"4px",lineHeight:"20px",textAlign:"center",backgroundColor:"#f0f0f0",color:"#333",marginRight:"4px"}),copyText:(0,E.iv)({cursor:"pointer",color:"#3955f6",marginLeft:"17px"}),typeButton:(0,E.iv)({width:"150px"}),addImage:(0,E.iv)({width:"100px",height:"100px",margin:"156px 0 10px 0"}),radioButton:(0,E.iv)({margin:"10px",border:"none",borderRadius:"2px","&:hover":{color:"rgb(51,51,51)"},"&::before":{width:"0 !important"}}),materialCover:"",add:""};b.materialCover=(0,E.iv)({position:"relative",borderRadius:"4px 4px 0px 0px",width:"215px",height:"373px",[`&:hover .${b.mask}`]:{opacity:1,background:"rgba(0, 0, 0, 0.5)"}}),b.add=(0,E.iv)({width:"215px",height:"452px",borderRadius:"4px 4px 0px 0px",border:" 1px solid #f0f0f0",margin:"0 25px 15px 0",textAlign:"center",fontWeight:500,cursor:"pointer",position:"relative",[`&:hover .${b.mask}`]:{opacity:1,background:"rgba(0, 0, 0, 0.5)"}});var C=b,Z=a(22142),k=(e,t,a)=>new Promise(((n,r)=>{var i=e=>{try{o(a.next(e))}catch(e){r(e)}},l=e=>{try{o(a.throw(e))}catch(e){r(e)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,l);o((a=a.apply(e,t)).next())}));function P({data:e}){const[t,a]=(0,o.useState)({url:"",typeOfPlay:0}),{name:n,cover:r,teamName:i,category:l}=e,E=Z.createElement("div",{className:C.materialCover},Z.createElement("div",{className:C.cover},Z.createElement("img",{src:r||y,className:C.coverImage,alt:n})),Z.createElement("div",{className:C.mask},Z.createElement(c.Z,{direction:"vertical"},Z.createElement(s.Z,{type:"primary",icon:Z.createElement(u.Z,null),onClick:()=>k(this,null,(function*(){const t=(0,x.jI)("模板换肤"),{id:a}=e;try{const e=yield(0,h.yQ)(a,1);t("okay"),(0,w.O5)({id:e.id,mode:"product"})}catch(e){t("error"),p.ZP.error(`${e.message}`)}}))},"模板换肤"),Z.createElement(s.Z,{type:"primary",icon:Z.createElement(u.Z,null),onClick:()=>k(this,null,(function*(){const t=(0,x.jI)("自由编辑"),{id:a}=e;try{const e=yield(0,h.yQ)(a,0);t("okay"),(0,w.O5)({id:e.id,mode:"project"})}catch(e){t("error"),p.ZP.error(`${e.message}`)}}))},"自由编辑"),Z.createElement(s.Z,{icon:Z.createElement(g.Z,null),onClick:()=>k(this,null,(function*(){const t=(0,x.jI)("查看详情"),{id:n}=e;try{const{previewUrl:r}=yield(0,h.XK)(n),i=new URL(r);i.searchParams.set("recorder","true"),t("okay"),a({url:i.href,typeOfPlay:e.typeOfPlay})}catch(e){t("error"),p.ZP.error("无法生成预览链接")}}))},"查看详情"))));return Z.createElement(Z.Fragment,null,Z.createElement(m.Z,{hoverable:!0,className:C.item,cover:E},Z.createElement("div",{className:C.title},Z.createElement("span",{className:C.name},Z.createElement(d.Z,{color:"success",children:v.aY[l]}),n),Z.createElement("div",{className:C.countAndIsFree},Z.createElement("span",{className:C.count},i||"0")))),t.url.length>0&&Z.createElement(f.M,{httpUrl:t.url,typeOfPlay:t.typeOfPlay,originSize:[667,375],onClose:()=>a({url:"",typeOfPlay:0})}))}var N=a(96929),I=a(97029),O=a(77397),j=a(22142),S=()=>{const{total:e,projectList:t}=(0,N.n)(),{params:{page:a,pageSize:n},onParamsChange:r}=(0,I.N6)();return j.createElement("section",{className:C.list},j.createElement("div",{className:C.items},t.map(((e,t)=>j.createElement(P,{key:e.id,data:e,index:t}))),!t.length&&j.createElement(O.F2,{message:"暂无更多模板"})),j.createElement("div",{className:(0,E.iv)({display:"flex",justifyContent:"center",padding:"24px 0"})},j.createElement(l.Z,{pageSizeOptions:[18,36,54,72,90],current:a,pageSize:n,total:e,showTotal:e=>j.createElement("div",null,"总共 ",e," 个模板"),onChange:(e,t)=>{r({page:e,pageSize:t},{resetPage:!1})}})))},R=a(52162),F=a(62255),T=a(68961),z=a(22142);const{Header:D}=n.Z,{Search:B}=F.Z;var _=(0,o.memo)((()=>{const{params:{keyword:e,industry:t},onParamsChange:a}=(0,I.N6)(),[n,r]=(0,o.useState)(e);return z.createElement(D,{style:{width:"100%",background:"none",display:"flex",flexDirection:"row",justifyContent:"center",padding:"32px 0",alignItems:"start",height:"auto"}},z.createElement(B,{allowClear:!0,size:"large",enterButton:"搜索",placeholder:"请输入模板名称",style:{width:"38%"},value:n,addonBefore:z.createElement(T.Z,{bordered:!1,defaultValue:t,onChange:e=>{a({industry:e})}},z.createElement(T.Z.Option,{value:""},"全部"),R.m.map((({label:e,value:t})=>z.createElement(T.Z.Option,{key:String(t),value:String(1<<t)},e)))),onChange:({target:{value:e}})=>{r(e)},onSearch:e=>{a({keyword:e})}}))})),A=a(60203),H=a(54201),W=a(15722),$=a(51514),L=a(22142);const{Content:U}=n.Z;var K=(0,A.VT)((({loading:{spinning:e,tip:t}})=>{const{params:{typeOfPlay:a},onParamsChange:l}=(0,I.N6)(),o=(0,$.FJ)("<direct_play>");return L.createElement(r.Z,{spinning:e,tip:t,wrapperClassName:(0,E.iv)({width:"100%"})},L.createElement(n.Z,null,L.createElement(_,null),L.createElement(i.Z,{style:{margin:"0 auto",width:"1440px"},activeKey:a,onChange:e=>{l({typeOfPlay:e})}},L.createElement(i.Z.TabPane,{key:"0",tab:L.createElement("span",null,L.createElement(H.Z,null),"互动落地页")}),o&&L.createElement(i.Z.TabPane,{key:"3",tab:L.createElement("span",null,L.createElement(W.Z,null),"直出互动")})),L.createElement(U,{style:{width:"100%"}},L.createElement(S,null))))}))}}]);